(function(){"use strict";var e={580:function(e,i,t){var n=t(963),r=t(252),l=t(577),a={style:{width:"100%",padding:"5px",color:"white",display:"flex","flex-direction":"row-reverse"}},s={style:{display:"flex",padding:"20px","align-items":"center"}},o={class:"red-shadow",style:{display:"flex",padding:"10px","align-items":"center"}},u={key:0,class:"nav-item",style:{color:"red"}},c={key:1,class:"nav-item",style:{color:"greenyellow"}},d={class:"nav-item"},b={class:"nav-item"},f={class:"nav-item",style:{"z-index":"10"}},h={key:0,class:"red-shadow",style:{position:"absolute",right:"10px",padding:"20px"}},m=(0,r._)("p",null,"Create new game:",-1),p=(0,r._)("td",null,[(0,r._)("label",{for:"x"},"X")],-1),g=(0,r._)("td",null,[(0,r._)("label",{for:"y"},"Y")],-1),v=(0,r._)("td",null,[(0,r._)("label",{for:"mines"},"Mines")],-1),y={style:{display:"flex","justify-content":"space-between"}},w=(0,r._)("div",{style:{width:"1px"}},null,-1),A={style:{padding:"100px","padding-bottom":"10px","padding-top":"50px"}},_=(0,r._)("div",{style:{width:"1px"}},null,-1),C=(0,r.uE)('<div style="padding:50px;padding-top:5px;color:white;"><p>LeftClick or touch: reveal terrain.</p><p>RightClick or holdTouch: set flag.</p></div><div style="font-size:smaller;margin-bottom:50px;width:fit-content;padding:20px;" class="red-shadow"><a target="_blank" href="https://icons8.com/icon/117130/naval-mine">Naval Mine</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a><br><a target="_blank" href="https://icons8.com/icon/13802/flag-filled">Flag Filled</a> icon by <a target="_blank" href="https://icons8.com">Icons8</a></div>',2);function k(e,i,t,k,O,P){var j=(0,r.up)("Cell");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",a,[(0,r._)("div",s,[(0,r._)("div",o,[e.game.youLose?((0,r.wg)(),(0,r.iD)("div",u," GameOver!")):e.game.isGameWin?((0,r.wg)(),(0,r.iD)("div",c," YouWin! ")):(0,r.kq)("",!0),(0,r._)("div",d,"SecondsPassed:"+(0,l.zw)(e.stadistics.seconds),1),(0,r._)("div",b," Mines: "+(0,l.zw)(e.game.minesWithNoFlag),1)]),(0,r._)("div",f,[(0,r._)("div",{onClick:i[0]||(i[0]=function(i){return e.isPanelActive=!e.isPanelActive}),class:"menu-button red-shadow"}," NewGame"),e.isPanelActive?((0,r.wg)(),(0,r.iD)("div",h,[(0,r._)("form",null,[m,(0,r._)("table",null,[(0,r._)("tr",null,[p,(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"number",name:"x",min:"5",max:"16","onUpdate:modelValue":i[1]||(i[1]=function(i){return e.newX=i})},null,512),[[n.nr,e.newX]])])]),(0,r._)("tr",null,[g,(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"number",name:"y",min:"5",max:"16","onUpdate:modelValue":i[2]||(i[2]=function(i){return e.newY=i})},null,512),[[n.nr,e.newY]])])]),(0,r._)("tr",null,[v,(0,r._)("td",null,[(0,r.wy)((0,r._)("input",{type:"number",name:"mines",min:"5",max:"16","onUpdate:modelValue":i[3]||(i[3]=function(i){return e.newMines=i})},null,512),[[n.nr,e.newMines]])])]),(0,r._)("tr",null,[(0,r._)("input",{class:"red-shadow",style:{padding:"5px"},type:"button",value:"new game!",onClick:i[4]||(i[4]=function(i){return e.createGame()})})])])])])):(0,r.kq)("",!0)])])]),(0,r._)("div",y,[w,(0,r._)("div",A,[(0,r._)("div",{class:"grid-container",style:(0,l.j5)({"grid-template-columns":e.getColumnsAndRowsForGrid.columns,"grid-template-rows":e.getColumnsAndRowsForGrid.rows})},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.game.AllBoard(),(function(i,t){return(0,r.wg)(),(0,r.j4)(j,{key:t,value:i[0],mask:i[1],onClick:function(i){return e.touchCell(t)},onContextmenu:(0,n.iM)((function(i){return e.setFlag(t)}),["prevent"])},null,8,["value","mask","onClick","onContextmenu"])})),128))],4)]),_]),C],64)}var O,P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAABZklEQVRIie2WQU7CQBSGvxgDG42WshNO5DGMbBSPIOoBjCchMUE8ACbGDRrt0l7BINGVi7qY11joDMzrQFzon7xN+9775p+ZzhT+5a8H4P43wJlEJW0ociOgA1wDaeF5Ks8OJSdIu0AXaAJ14ByY8uPSFVPgTGqa0mNHAz6WRgnw5AGcj0epzYAjDTguFIZEIr1Kcq3xB/ClGalDGfCpKbgg3G0ePV9oA/tGGgB7QAsYKsDveO72jqNBq5DTVro+mIfY1njfZ3RKefVMsY96iHHdBm4dOa54XQQcKZtViVEO0xyZq9DCs9011SFRmmqb45cqVpbo2Qd8swbwwCepgfnoVzXNE8xtNyOb4zfgSuFmmS4F7qU6MCbc7Rio2QCuz2nLVaBUDdjWFJxgRpxgLvUqTvP7vKsBRwKPMdPew2/DTYBTcRpLj+D/sAhzy/QxB0LxcOjLu9LuXYdycCVtBoDvQsB/T99g4Qh1aKySAAAAAABJRU5ErkJggg==",j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAA6UlEQVRoge3YsQ3CQAyF4XeIcbIB0JElUmcP2Is0EWGMzGIqS4gK7my/K/z1SO8XSS4KkFL6yTjNMk6zsHd8O7AHhNkHyD5A5IJNzriy96iaf+CEgkcvIS2XUBchFvcANcTyJqaEeDyFQkM8H6MhIRHngGtI5EHmEsI4iU1DmK8SJiE9vAs1hfQQoKpCegqocmQP+PCC4F42LP/8qIeAquGKGdA0XDECTIaryADT4SoiwGW48gxwHa48AkKGK8uA0OHKIoAyXLUEUIermoAVwK08sVqPcZXfRp1kAFsGsGUAWwawZUBKiesN6tVxvhMjpPkAAAAASUVORK5CYII=",x=function(e){return(0,r.dD)("data-v-134c7acc"),e=e(),(0,r.Cn)(),e},M={key:0},z=x((function(){return(0,r._)("img",{src:P,alt:"",style:{width:"100%",height:"100%"}},null,-1)})),V=[z],G={key:1},B={key:1,class:"cell hovereable",style:{position:"relative"}},D={key:0},X={key:1,src:j,alt:"",style:{width:"100%",height:"100%"}};function F(e,i,t,a,s,o){return(0,r.wg)(),(0,r.iD)("div",null,[e.mask==e.CellMask.Visible?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"cell",style:(0,l.j5)({"background-color":e.color()})},[-1==e.value?((0,r.wg)(),(0,r.iD)("span",M,V)):((0,r.wg)(),(0,r.iD)("span",G,(0,l.zw)(e.value),1))],4)):((0,r.wg)(),(0,r.iD)("div",B,[(0,r.Wm)(n.uT,{name:"fade",mode:"out-in"},{default:(0,r.w5)((function(){return[e.mask==e.CellMask.Hidden?((0,r.wg)(),(0,r.iD)("span",D,"  ")):e.mask==e.CellMask.Flag?((0,r.wg)(),(0,r.iD)("img",X)):(0,r.kq)("",!0)]})),_:1})]))])}(function(e){e[e["Hidden"]=0]="Hidden",e[e["Visible"]=1]="Visible",e[e["Flag"]=2]="Flag"})(O||(O={}));var Y=function(){function e(e,i,t){Object.defineProperty(this,"_board",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_mask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_totalMines",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_youLose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_visibleCells",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isBoardBuilded",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_minesMarked",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._sizeX=e,this._sizeY=i,this._board=Array(e*i).fill(0),this._mask=Array(e*i).fill(0),this._totalMines=t,this._minesMarked=0,this._youLose=!1,this._visibleCells=0,this._isBoardBuilded=!1}return Object.defineProperty(e.prototype,"isGameWin",{get:function(){return this._visibleCells>=this._sizeX*this.sizeY-this._totalMines},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isGameOver",{get:function(){return this.isGameWin||this._youLose},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"youLose",{get:function(){return this._youLose},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeX",{get:function(){return this._sizeX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeY",{get:function(){return this._sizeY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalMines",{get:function(){return this._totalMines},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minesWithNoFlag",{get:function(){return this._totalMines-this._minesMarked},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"AllBoard",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;return this._board.map((function(i,t){return[i,e._mask[t]]}))}}),Object.defineProperty(e.prototype,"getCell",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i){return this._board[i*this.sizeX+e]}}),Object.defineProperty(e.prototype,"setCell",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i,t){this._board[i*this.sizeX+e]=t}}),Object.defineProperty(e.prototype,"incrCell",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i){this.setCell(e,i,this.getCell(e,i)+1)}}),Object.defineProperty(e.prototype,"setCellVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i,t){this._mask[i*this.sizeX+e]=t}}),Object.defineProperty(e.prototype,"getCellVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i){return this._mask[i*this.sizeX+e]}}),Object.defineProperty(e.prototype,"getPointFromIndex",{enumerable:!1,configurable:!0,writable:!0,value:function(e){var i=e%this.sizeX,t=Math.floor(e/this.sizeX);return[i,t]}}),Object.defineProperty(e.prototype,"setMinesVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(){for(var e=0;e<this._board.length;e++)-1==this._board[e]&&(this._mask[e]=O.Visible)}}),Object.defineProperty(e.prototype,"touchCell",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i){switch(void 0===i&&(i=!1),this._mask[e]){case O.Visible:break;case O.Hidden:if(i)return this._mask[e]=O.Flag,void this._minesMarked++;this._isBoardBuilded||(this.buildBoard(e),this._isBoardBuilded=!0);var t=this.getPointFromIndex(e),n=t[0],r=t[1];if(this.setCellVisibility(n,r,O.Visible),-1==this.getCell(n,r))return void(this._youLose=!0);this._visibleCells++,this.releaseVisibility(n,r);break;case O.Flag:this._mask[e]=O.Hidden,this._minesMarked--;break}}}),Object.defineProperty(e.prototype,"releaseVisibility",{enumerable:!1,configurable:!0,writable:!0,value:function(i,t){for(var n=0;n<8;n++){var r=i+e._dirX[n],l=t+e._dirY[n];this.verifyPos(r,l)&&this.getCellVisibility(r,l)==O.Hidden&&(0!=this.getCell(i,t)&&0!=this.getCell(r,l)||(this.setCellVisibility(r,l,O.Visible),this._visibleCells++),0==this.getCell(r,l)&&this.releaseVisibility(r,l))}}}),Object.defineProperty(e.prototype,"buildBoard",{enumerable:!1,configurable:!0,writable:!0,value:function(i){for(var t=0;t<this.totalMines;t++){var n=Math.floor(Math.random()*this.sizeX),r=Math.floor(Math.random()*this.sizeY);-1!=this.getCell(n,r)&&i!=r*this._sizeX+n?this.setCell(n,r,-1):t--}for(var l=0;l<this.sizeX;l++)for(var a=0;a<this.sizeY;a++)if(-1==this.getCell(l,a))for(var s=0;s<8;s++){var o=l+e._dirX[s],u=a+e._dirY[s];this.verifyPos(o,u)&&-1!=this.getCell(o,u)&&this.incrCell(o,u)}}}),Object.defineProperty(e.prototype,"verifyPos",{enumerable:!1,configurable:!0,writable:!0,value:function(e,i){return 0<=e&&e<this.sizeX&&0<=i&&i<this.sizeY}}),Object.defineProperty(e,"_dirX",{enumerable:!0,configurable:!0,writable:!0,value:[1,1,0,-1,-1,-1,0,1]}),Object.defineProperty(e,"_dirY",{enumerable:!0,configurable:!0,writable:!0,value:[0,1,1,1,0,-1,-1,-1]}),e}(),I=(0,r.aZ)({name:"Cell",props:{value:{type:Number,required:!0},mask:Number},methods:{color:function(){if(-1==this.value)return"rgb(255,0,0)";var e=[this.value*Math.floor(254/9),255/(9-this.value),255/(9-this.value)],i=e[0],t=e[1],n=e[2];return"rgb(".concat(i,",").concat(t,",").concat(n,")")}},data:function(){return{CellMask:O}}}),K=t(744);const R=(0,K.Z)(I,[["render",F],["__scopeId","data-v-134c7acc"]]);var U=R,E=(0,r.aZ)({name:"App",components:{Cell:U},data:function(){return{game:Object(),CellMask:O,newX:8,newY:8,newMines:16,stadistics:{seconds:0,started:!1},toogleAllPanel:!0,isPanelActive:!1}},methods:{touchCell:function(e){this.game.isGameOver?this.game.youLose?alert("You lose :("):this.game.isGameWin&&alert("you win :D"):(this.stadistics.started||(this.stadistics.started=!0,setTimeout(this.timeFunction,1e3)),this.game.touchCell(e),this.game.youLose&&this.game.setMinesVisibility(),this.game.isGameOver)},setFlag:function(e){this.game.touchCell(e,!0)},timeFunction:function(){this.stadistics.started&&!this.game.isGameOver&&(this.stadistics.seconds++,setTimeout(this.timeFunction,1e3))},createGame:function(){this.isPanelActive=!1,this.stadistics={seconds:0,started:!1},this.game=new Y(this.newX,this.newY,this.newMines)}},computed:{getColumnsAndRowsForGrid:function(){var e=this.game.sizeX,i=this.game.sizeY,t=String(window.visualViewport.width/4/e)+"px";return{columns:Array(e).fill(t).join(" "),rows:Array(i).fill(t).join(" "),gap:t}}},beforeMount:function(){this.createGame()}});const H=(0,K.Z)(E,[["render",k]]);var L=H;(0,n.ri)(L).mount("#app")}},i={};function t(n){var r=i[n];if(void 0!==r)return r.exports;var l=i[n]={exports:{}};return e[n](l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(i,n,r,l){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],r=e[c][1],l=e[c][2];for(var s=!0,o=0;o<n.length;o++)(!1&l||a>=l)&&Object.keys(t.O).every((function(e){return t.O[e](n[o])}))?n.splice(o--,1):(s=!1,l<a&&(a=l));if(s){e.splice(c--,1);var u=r();void 0!==u&&(i=u)}}return i}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,r,l]}}(),function(){t.d=function(e,i){for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)}}(),function(){var e={143:0};t.O.j=function(i){return 0===e[i]};var i=function(i,n){var r,l,a=n[0],s=n[1],o=n[2],u=0;if(a.some((function(i){return 0!==e[i]}))){for(r in s)t.o(s,r)&&(t.m[r]=s[r]);if(o)var c=o(t)}for(i&&i(n);u<a.length;u++)l=a[u],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},n=self["webpackChunkminesweeper"]=self["webpackChunkminesweeper"]||[];n.forEach(i.bind(null,0)),n.push=i.bind(null,n.push.bind(n))}();var n=t.O(void 0,[998],(function(){return t(580)}));n=t.O(n)})();
//# sourceMappingURL=app.5b4e582e.js.map